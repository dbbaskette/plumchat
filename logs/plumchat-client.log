2025-09-05 12:46:32.493 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.0.6 using Java 21.0.8 with PID 93487 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.0.6.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 12:46:32.494 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 12:46:32.935 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 12:46:32.941 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 12:46:32.941 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 12:46:32.956 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 12:46:32.956 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 447 ms
2025-09-05 12:46:33.271 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 12:46:33.292 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 12:46:33.328 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 12:46:33.333 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 12:46:33.350 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 12:46:33.474 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 12:46:33.491 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 12:46:33.500 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.176 seconds (process running for 1.335)
2025-09-05 12:46:45.522 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 12:46:45.532 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 12:47:15.314 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.0.6 using Java 21.0.8 with PID 93928 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.0.6.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 12:47:15.315 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 12:47:15.768 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 12:47:15.773 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 12:47:15.773 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 12:47:15.787 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 12:47:15.787 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 457 ms
2025-09-05 12:47:16.102 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 12:47:16.123 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 12:47:16.156 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 12:47:16.160 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 12:47:16.177 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 12:47:16.302 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 12:47:16.320 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 12:47:16.326 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.172 seconds (process running for 1.334)
2025-09-05 12:47:31.875 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 12:47:31.875 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 12:47:31.876 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-05 12:47:50.195 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 10 people in the customers table (schema: public)
2025-09-05 12:47:50.195 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session 5a67ac77-f702-4cdd-9d70-f982a91f9e61: show me the first 10 people in the customers table (schema: public)
2025-09-05 12:47:55.734 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 12:48:04.377 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 12:50:32.433 [http-nio-8090-exec-7] INFO  c.b.p.controller.ChatController - Received chat message: show me the schemas
2025-09-05 12:50:32.434 [http-nio-8090-exec-7] INFO  c.b.plumchat.service.ChatService - Processing message for session 5a67ac77-f702-4cdd-9d70-f982a91f9e61: show me the schemas
2025-09-05 12:50:41.543 [http-nio-8090-exec-7] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTablesInSchema
2025-09-05 12:50:46.668 [http-nio-8090-exec-7] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 12:50:55.515 [http-nio-8090-exec-7] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getAllSchemas
2025-09-05 12:51:10.524 [http-nio-8090-exec-7] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 12:53:26.006 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 12:53:26.010 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 12:53:28.439 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.0.6 using Java 21.0.8 with PID 96031 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.0.6.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 12:53:28.440 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 12:53:28.886 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 12:53:28.891 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 12:53:28.891 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 12:53:28.904 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 12:53:28.904 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 450 ms
2025-09-05 12:53:29.293 [HttpClient-1-Worker-2] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 12:53:29.321 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 12:53:29.353 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 12:53:29.360 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 12:53:29.377 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 12:53:29.505 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 12:53:29.522 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 12:53:29.532 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.261 seconds (process running for 1.417)
2025-09-05 12:53:29.567 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 12:53:29.568 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 12:53:29.568 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 12:53:29.568 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 12:53:29.568 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 12:53:29.568 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 12:53:29.568 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 12:53:29.568 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 12:53:29.569 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 12:57:47.999 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.0.6 using Java 21.0.8 with PID 97914 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.0.6.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 12:57:48.000 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 12:57:48.446 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 12:57:48.456 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 12:57:48.456 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 12:57:48.466 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 12:57:48.466 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 451 ms
2025-09-05 12:57:48.780 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 12:57:48.802 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 12:57:48.834 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 12:57:48.838 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 12:57:48.855 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 12:57:48.982 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 12:57:48.999 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 12:57:49.009 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.174 seconds (process running for 1.335)
2025-09-05 12:57:49.039 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 12:57:49.039 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 12:57:49.039 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 12:57:49.039 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 12:57:49.039 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 12:57:49.039 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 12:57:49.039 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 12:57:49.039 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 12:57:49.040 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 12:58:02.582 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 12:58:02.592 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 12:59:31.635 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.0.6 using Java 21.0.8 with PID 98495 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.0.6.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 12:59:31.637 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 12:59:32.092 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 12:59:32.097 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 12:59:32.097 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 12:59:32.110 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 12:59:32.110 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 434 ms
2025-09-05 12:59:32.418 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 12:59:32.449 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 12:59:32.493 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 12:59:32.497 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 12:59:32.517 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 12:59:32.645 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 12:59:32.664 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 12:59:32.674 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.23 seconds (process running for 1.387)
2025-09-05 12:59:32.703 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 12:59:32.703 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 12:59:32.703 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 12:59:32.704 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 12:59:33.048 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 12:59:33.049 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 12:59:33.049 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-09-05 12:59:41.534 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 10 people in the customers table (schema: public)
2025-09-05 12:59:41.534 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session e8432aff-cecf-4b58-bf17-72b33dcdeb71: show me the first 10 people in the customers table (schema: public)
2025-09-05 12:59:46.605 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 12:59:54.244 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 13:05:50.343 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 13:05:50.348 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 13:05:52.770 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.0.6 using Java 21.0.8 with PID 99490 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.0.6.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 13:05:52.771 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 13:05:53.207 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 13:05:53.213 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 13:05:53.213 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 13:05:53.226 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 13:05:53.226 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 439 ms
2025-09-05 13:05:53.541 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 13:05:53.586 [HttpClient-1-Worker-3] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 13:05:53.615 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 13:05:53.648 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 13:05:53.655 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 13:05:53.672 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 13:05:53.797 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 13:05:53.814 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 13:05:53.823 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.213 seconds (process running for 1.371)
2025-09-05 13:05:53.851 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 13:05:53.851 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 13:05:53.851 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 13:05:53.851 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 13:05:53.851 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 13:05:53.851 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 13:05:53.851 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 13:05:53.851 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 13:05:53.851 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 13:05:53.851 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 13:05:53.851 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 13:05:53.852 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 13:06:00.320 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 13:06:00.327 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 13:06:50.934 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.0.6 using Java 21.0.8 with PID 277 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.0.6.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 13:06:50.934 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 13:06:51.368 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 13:06:51.377 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 13:06:51.377 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 13:06:51.386 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 13:06:51.386 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 437 ms
2025-09-05 13:06:51.695 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 13:06:51.709 [HttpClient-1-Worker-3] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 13:06:51.730 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 13:06:51.765 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 13:06:51.772 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 13:06:51.790 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 13:06:51.913 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 13:06:51.931 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 13:06:51.940 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.166 seconds (process running for 1.32)
2025-09-05 13:06:51.968 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 13:06:51.969 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 13:06:51.969 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 13:06:51.969 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 13:06:51.969 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 13:06:51.969 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 13:06:51.969 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 13:06:51.969 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 13:06:51.969 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 13:06:51.969 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 13:06:51.969 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 13:06:51.970 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 13:06:56.541 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 13:06:56.542 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 13:06:56.542 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-09-05 13:07:00.725 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 10 people in the customers table (schema: public)
2025-09-05 13:07:00.725 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session 2f2a5f9e-7234-4c62-ae9b-d12000a535c6: show me the first 10 people in the customers table (schema: public)
2025-09-05 13:07:05.453 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 13:07:19.316 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 13:08:01.085 [http-nio-8090-exec-2] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 10 people in the customers table (schema: public)
2025-09-05 13:08:01.085 [http-nio-8090-exec-2] INFO  c.b.plumchat.service.ChatService - Processing message for session 2f2a5f9e-7234-4c62-ae9b-d12000a535c6: show me the first 10 people in the customers table (schema: public)
2025-09-05 13:08:07.992 [http-nio-8090-exec-2] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 13:08:18.718 [http-nio-8090-exec-2] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 13:12:50.440 [HttpClient-1-Worker-8] ERROR i.m.c.t.WebFluxSseClientTransport - Fatal SSE error, not retrying: 200 OK from GET http://localhost:8081/sse, but response failed with cause: java.io.IOException: chunked transfer encoding, state: READING_LENGTH
2025-09-05 13:12:50.440 [HttpClient-1-Worker-7] ERROR i.m.c.t.WebFluxSseClientTransport - Fatal SSE error, not retrying: 200 OK from GET http://localhost:8080/sse, but response failed with cause: java.io.IOException: chunked transfer encoding, state: READING_LENGTH
2025-09-05 13:12:50.441 [HttpClient-1-Worker-7] ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
reactor.core.Exceptions$ErrorCallbackNotImplemented: org.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from GET http://localhost:8080/sse, but response failed with cause: java.io.IOException: chunked transfer encoding, state: READING_LENGTH
Caused by: org.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from GET http://localhost:8080/sse, but response failed with cause: java.io.IOException: chunked transfer encoding, state: READING_LENGTH
	at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:337)
	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onError(FluxOnErrorReturn.java:199)
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onError(FluxDefaultIfEmpty.java:156)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:142)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:340)
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onError(FluxFilterFuseable.java:382)
	at reactor.core.publisher.MonoCollect$CollectSubscriber.onError(MonoCollect.java:135)
	at org.springframework.http.client.reactive.AbstractClientHttpResponse$SingleSubscriberPublisher.subscribe(AbstractClientHttpResponse.java:116)
	at reactor.core.publisher.FluxSource.subscribe(FluxSource.java:71)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327)
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onError(FluxConcatMapNoPrefetch.java:221)
	at reactor.core.publisher.FluxBufferPredicate$BufferPredicateSubscriber.onError(FluxBufferPredicate.java:346)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onError(FluxPeekFuseable.java:553)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:340)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:186)
	at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.drainAsync(FluxFlattenIterable.java:351)
	at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.drain(FluxFlattenIterable.java:724)
	at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.onError(FluxFlattenIterable.java:263)
	at reactor.core.publisher.FluxPublish$PublishSubscriber.checkTerminated(FluxPublish.java:625)
	at reactor.core.publisher.FluxPublish$PublishSubscriber.drain(FluxPublish.java:494)
	at reactor.core.publisher.FluxPublish$PublishSubscriber.onError(FluxPublish.java:336)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:340)
	at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.drainAsync(FluxFlattenIterable.java:351)
	at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.drain(FluxFlattenIterable.java:724)
	at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.onError(FluxFlattenIterable.java:263)
	at reactor.adapter.JdkFlowAdapter$SubscriberToRS.onError(JdkFlowAdapter.java:155)
	at java.net.http/jdk.internal.net.http.ResponseSubscribers$PublishingBodySubscriber.complete(ResponseSubscribers.java:960)
	at java.net.http/jdk.internal.net.http.ResponseSubscribers$PublishingBodySubscriber.lambda$new$1(ResponseSubscribers.java:886)
	at java.base/java.util.concurrent.CompletableFuture.uniAcceptNow(CompletableFuture.java:757)
	at java.base/java.util.concurrent.CompletableFuture.uniAcceptStage(CompletableFuture.java:735)
	at java.base/java.util.concurrent.CompletableFuture.thenAccept(CompletableFuture.java:2214)
	at java.net.http/jdk.internal.net.http.ResponseSubscribers$PublishingBodySubscriber.lambda$new$2(ResponseSubscribers.java:886)
	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2194)
	at java.net.http/jdk.internal.net.http.ResponseSubscribers$PublishingBodySubscriber.signalError(ResponseSubscribers.java:968)
	at java.net.http/jdk.internal.net.http.ResponseSubscribers$PublishingBodySubscriber.onError(ResponseSubscribers.java:1044)
	at java.net.http/jdk.internal.net.http.common.HttpBodySubscriberWrapper.propagateError(HttpBodySubscriberWrapper.java:171)
	at java.net.http/jdk.internal.net.http.common.HttpBodySubscriberWrapper.complete(HttpBodySubscriberWrapper.java:310)
	at java.net.http/jdk.internal.net.http.common.HttpBodySubscriberWrapper.onError(HttpBodySubscriberWrapper.java:396)
	at java.net.http/jdk.internal.net.http.Http1Response.lambda$readBody$1(Http1Response.java:347)
	at java.net.http/jdk.internal.net.http.ResponseContent$ChunkedBodyParser.onError(ResponseContent.java:185)
	at java.net.http/jdk.internal.net.http.Http1Response$BodyReader.onReadError(Http1Response.java:677)
	at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.checkForErrors(Http1AsyncReceiver.java:302)
	at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.flush(Http1AsyncReceiver.java:268)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:182)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:207)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.io.IOException: chunked transfer encoding, state: READING_LENGTH
	at java.net.http/jdk.internal.net.http.common.Utils.wrapWithExtraDetail(Utils.java:415)
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ Body from GET http://localhost:8080/sse [DefaultClientResponse]
Original Stack Trace:
		at java.net.http/jdk.internal.net.http.common.Utils.wrapWithExtraDetail(Utils.java:415)
		at java.net.http/jdk.internal.net.http.Http1Response$BodyReader.onReadError(Http1Response.java:676)
		at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.checkForErrors(Http1AsyncReceiver.java:302)
		at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.flush(Http1AsyncReceiver.java:268)
		at java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:182)
		at java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)
		at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:207)
		at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
		at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
		at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.io.EOFException: EOF reached while reading
	at java.net.http/jdk.internal.net.http.Http1AsyncReceiver$Http1TubeSubscriber.onComplete(Http1AsyncReceiver.java:601)
	at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$ReadSubscription.signalCompletion(SocketTube.java:648)
	at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$InternalReadSubscription.read(SocketTube.java:853)
	at java.net.http/jdk.internal.net.http.SocketTube$SocketFlowTask.run(SocketTube.java:181)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:207)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(SequentialScheduler.java:280)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(SequentialScheduler.java:233)
	at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$InternalReadSubscription.signalReadable(SocketTube.java:782)
	at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$ReadEvent.signalEvent(SocketTube.java:965)
	at java.net.http/jdk.internal.net.http.SocketTube$SocketFlowEvent.handle(SocketTube.java:253)
	at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.handleEvent(HttpClientImpl.java:1477)
	at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.lambda$run$3(HttpClientImpl.java:1422)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.run(HttpClientImpl.java:1422)
2025-09-05 13:12:50.441 [HttpClient-1-Worker-8] ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped
reactor.core.Exceptions$ErrorCallbackNotImplemented: org.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from GET http://localhost:8081/sse, but response failed with cause: java.io.IOException: chunked transfer encoding, state: READING_LENGTH
Caused by: org.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from GET http://localhost:8081/sse, but response failed with cause: java.io.IOException: chunked transfer encoding, state: READING_LENGTH
	at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:337)
	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onError(FluxOnErrorReturn.java:199)
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onError(FluxDefaultIfEmpty.java:156)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:142)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:340)
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onError(FluxFilterFuseable.java:382)
	at reactor.core.publisher.MonoCollect$CollectSubscriber.onError(MonoCollect.java:135)
	at org.springframework.http.client.reactive.AbstractClientHttpResponse$SingleSubscriberPublisher.subscribe(AbstractClientHttpResponse.java:116)
	at reactor.core.publisher.FluxSource.subscribe(FluxSource.java:71)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.maybeOnError(FluxConcatMapNoPrefetch.java:327)
	at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onError(FluxConcatMapNoPrefetch.java:221)
	at reactor.core.publisher.FluxBufferPredicate$BufferPredicateSubscriber.onError(FluxBufferPredicate.java:346)
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onError(FluxPeekFuseable.java:553)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:340)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:119)
	at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:186)
	at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.drainAsync(FluxFlattenIterable.java:351)
	at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.drain(FluxFlattenIterable.java:724)
	at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.onError(FluxFlattenIterable.java:263)
	at reactor.core.publisher.FluxPublish$PublishSubscriber.checkTerminated(FluxPublish.java:625)
	at reactor.core.publisher.FluxPublish$PublishSubscriber.drain(FluxPublish.java:494)
	at reactor.core.publisher.FluxPublish$PublishSubscriber.onError(FluxPublish.java:336)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:340)
	at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.drainAsync(FluxFlattenIterable.java:351)
	at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.drain(FluxFlattenIterable.java:724)
	at reactor.core.publisher.FluxFlattenIterable$FlattenIterableSubscriber.onError(FluxFlattenIterable.java:263)
	at reactor.adapter.JdkFlowAdapter$SubscriberToRS.onError(JdkFlowAdapter.java:155)
	at java.net.http/jdk.internal.net.http.ResponseSubscribers$PublishingBodySubscriber.complete(ResponseSubscribers.java:960)
	at java.net.http/jdk.internal.net.http.ResponseSubscribers$PublishingBodySubscriber.lambda$new$1(ResponseSubscribers.java:886)
	at java.base/java.util.concurrent.CompletableFuture.uniAcceptNow(CompletableFuture.java:757)
	at java.base/java.util.concurrent.CompletableFuture.uniAcceptStage(CompletableFuture.java:735)
	at java.base/java.util.concurrent.CompletableFuture.thenAccept(CompletableFuture.java:2214)
	at java.net.http/jdk.internal.net.http.ResponseSubscribers$PublishingBodySubscriber.lambda$new$2(ResponseSubscribers.java:886)
	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2194)
	at java.net.http/jdk.internal.net.http.ResponseSubscribers$PublishingBodySubscriber.signalError(ResponseSubscribers.java:968)
	at java.net.http/jdk.internal.net.http.ResponseSubscribers$PublishingBodySubscriber.onError(ResponseSubscribers.java:1044)
	at java.net.http/jdk.internal.net.http.common.HttpBodySubscriberWrapper.propagateError(HttpBodySubscriberWrapper.java:171)
	at java.net.http/jdk.internal.net.http.common.HttpBodySubscriberWrapper.complete(HttpBodySubscriberWrapper.java:310)
	at java.net.http/jdk.internal.net.http.common.HttpBodySubscriberWrapper.onError(HttpBodySubscriberWrapper.java:396)
	at java.net.http/jdk.internal.net.http.Http1Response.lambda$readBody$1(Http1Response.java:347)
	at java.net.http/jdk.internal.net.http.ResponseContent$ChunkedBodyParser.onError(ResponseContent.java:185)
	at java.net.http/jdk.internal.net.http.Http1Response$BodyReader.onReadError(Http1Response.java:677)
	at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.checkForErrors(Http1AsyncReceiver.java:302)
	at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.flush(Http1AsyncReceiver.java:268)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:182)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:207)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.io.IOException: chunked transfer encoding, state: READING_LENGTH
	at java.net.http/jdk.internal.net.http.common.Utils.wrapWithExtraDetail(Utils.java:415)
	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ Body from GET http://localhost:8081/sse [DefaultClientResponse]
Original Stack Trace:
		at java.net.http/jdk.internal.net.http.common.Utils.wrapWithExtraDetail(Utils.java:415)
		at java.net.http/jdk.internal.net.http.Http1Response$BodyReader.onReadError(Http1Response.java:676)
		at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.checkForErrors(Http1AsyncReceiver.java:302)
		at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.flush(Http1AsyncReceiver.java:268)
		at java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:182)
		at java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)
		at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:207)
		at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
		at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
		at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.io.EOFException: EOF reached while reading
	at java.net.http/jdk.internal.net.http.Http1AsyncReceiver$Http1TubeSubscriber.onComplete(Http1AsyncReceiver.java:601)
	at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$ReadSubscription.signalCompletion(SocketTube.java:648)
	at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$InternalReadSubscription.read(SocketTube.java:853)
	at java.net.http/jdk.internal.net.http.SocketTube$SocketFlowTask.run(SocketTube.java:181)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:207)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(SequentialScheduler.java:280)
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(SequentialScheduler.java:233)
	at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$InternalReadSubscription.signalReadable(SocketTube.java:782)
	at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$ReadEvent.signalEvent(SocketTube.java:965)
	at java.net.http/jdk.internal.net.http.SocketTube$SocketFlowEvent.handle(SocketTube.java:253)
	at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.handleEvent(HttpClientImpl.java:1477)
	at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.lambda$run$3(HttpClientImpl.java:1422)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.run(HttpClientImpl.java:1422)
2025-09-05 13:17:35.020 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 13:17:35.026 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 13:18:09.683 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.0.6 using Java 21.0.8 with PID 3244 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.0.6.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 13:18:09.684 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 13:18:10.123 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 13:18:10.128 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 13:18:10.128 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 13:18:10.141 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 13:18:10.142 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 444 ms
2025-09-05 13:18:10.519 [HttpClient-1-Worker-1] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 13:18:10.609 [HttpClient-1-Worker-1] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 13:18:10.644 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 13:18:10.676 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 13:18:10.683 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 13:18:10.700 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 13:18:10.815 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 13:18:10.831 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 13:18:10.841 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.317 seconds (process running for 1.473)
2025-09-05 13:18:10.870 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 13:18:10.870 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 13:18:10.870 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 13:18:10.870 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 13:18:10.870 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 13:18:10.870 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 13:18:10.870 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 13:18:10.870 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 13:18:10.871 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 13:18:42.100 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 13:18:42.100 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 13:18:42.101 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-05 13:18:59.233 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 10 people in the customers table (schema: public)
2025-09-05 13:18:59.233 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session 3a114c5d-613b-4e17-a795-c655b09151e1: show me the first 10 people in the customers table (schema: public)
2025-09-05 13:19:06.211 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 13:19:11.960 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 13:19:22.723 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 13:23:23.722 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 13:23:23.734 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 13:23:32.977 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.0.6 using Java 21.0.8 with PID 4785 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.0.6.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 13:23:32.978 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 13:23:33.413 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 13:23:33.417 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 13:23:33.417 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 13:23:33.426 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 13:23:33.426 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 433 ms
2025-09-05 13:23:33.811 [HttpClient-1-Worker-2] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 13:23:33.905 [HttpClient-1-Worker-3] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 13:23:33.935 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 13:23:33.967 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 13:23:33.975 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 13:23:33.994 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 13:23:34.120 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 13:23:34.139 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 13:23:34.149 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.336 seconds (process running for 1.492)
2025-09-05 13:23:34.179 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 13:23:34.179 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 13:23:34.179 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 13:23:34.179 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 13:23:34.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 13:23:34.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 13:23:34.180 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 13:23:38.025 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 13:23:38.026 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 13:23:38.027 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-05 13:24:26.512 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 10 people in the customers table (schema: public)
2025-09-05 13:24:26.512 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session be3f93d7-4b06-4b78-b26a-a954456dd453: show me the first 10 people in the customers table (schema: public)
2025-09-05 13:24:32.824 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 13:24:47.604 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 13:42:22.949 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 13:42:22.962 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 13:53:54.477 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.0 using Java 21.0.8 with PID 11988 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.0.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 13:53:54.479 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 13:53:54.972 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 13:53:54.982 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 13:53:54.982 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 13:53:54.991 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 13:53:54.991 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 489 ms
2025-09-05 13:53:55.322 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 13:53:55.340 [HttpClient-1-Worker-1] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 13:53:55.363 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 13:53:55.401 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 13:53:55.408 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 13:53:55.427 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 13:53:55.557 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 13:53:55.575 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 13:53:55.585 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.284 seconds (process running for 1.451)
2025-09-05 13:53:55.615 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 13:53:55.615 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 13:53:55.616 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 13:53:55.617 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 13:53:55.617 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 13:53:55.617 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 13:53:55.617 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 13:53:57.575 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 13:53:57.575 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 13:53:57.576 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-05 13:54:00.566 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 10 people in the customers table (schema: public)
2025-09-05 13:54:00.566 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session 42ce69cc-7158-4544-83f5-c1681623e780: show me the first 10 people in the customers table (schema: public)
2025-09-05 13:54:05.427 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 13:54:09.571 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 13:54:19.413 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:08:31.746 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 16:08:31.755 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 16:08:50.969 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 18722 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 16:08:50.969 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 16:08:51.402 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 16:08:51.407 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 16:08:51.407 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 16:08:51.421 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 16:08:51.421 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 438 ms
2025-09-05 16:08:51.806 [HttpClient-1-Worker-2] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 16:08:51.899 [HttpClient-1-Worker-3] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 16:08:51.932 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 16:08:51.967 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 16:08:51.974 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 16:08:51.994 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 16:08:52.119 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 16:08:52.140 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 16:08:52.148 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.341 seconds (process running for 1.494)
2025-09-05 16:08:52.177 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 16:08:52.177 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 16:08:52.177 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 16:08:52.178 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 16:08:52.178 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 16:08:52.178 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 16:08:52.178 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 16:08:52.178 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 16:08:52.178 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 16:08:52.178 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 16:08:52.178 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 16:08:52.178 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 16:08:52.178 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 16:08:52.178 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 16:08:52.178 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 16:08:52.178 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 16:08:52.179 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 16:09:11.279 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 16:09:11.280 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 16:09:11.280 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-09-05 16:09:47.506 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 16:09:47.518 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 16:09:51.006 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 19431 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 16:09:51.007 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 16:09:51.445 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 16:09:51.449 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 16:09:51.449 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 16:09:51.462 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 16:09:51.463 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 440 ms
2025-09-05 16:09:51.835 [HttpClient-1-Worker-2] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 16:09:51.923 [HttpClient-1-Worker-3] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 16:09:51.955 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 16:09:51.986 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 16:09:51.993 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 16:09:52.012 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 16:09:52.140 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 16:09:52.157 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 16:09:52.166 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.323 seconds (process running for 1.479)
2025-09-05 16:09:52.195 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 16:09:52.195 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 16:09:52.195 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 16:09:52.196 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 16:09:52.197 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 16:10:08.379 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 16:10:08.380 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 16:10:08.380 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-09-05 16:10:28.759 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 10 customers in the customers table (public schema)
2025-09-05 16:10:28.759 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session 9b4daf2b-7612-47ec-9b9d-e426a899111f: show me the first 10 customers in the customers table (public schema)
2025-09-05 16:10:36.302 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 16:10:40.460 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:10:50.898 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:15:06.779 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 16:15:06.787 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 16:15:26.805 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 21454 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 16:15:26.806 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 16:15:27.244 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 16:15:27.253 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 16:15:27.253 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 16:15:27.263 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 16:15:27.264 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 442 ms
2025-09-05 16:15:27.635 [HttpClient-1-Worker-2] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 16:15:27.722 [HttpClient-1-Worker-3] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 16:15:27.752 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 16:15:27.787 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 16:15:27.794 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 16:15:27.813 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 16:15:27.938 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 16:15:27.956 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 16:15:27.966 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.335 seconds (process running for 1.489)
2025-09-05 16:15:27.995 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 16:15:27.996 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 16:15:27.996 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 16:15:27.996 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 16:15:27.996 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 16:15:27.996 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 16:15:27.996 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 16:15:27.996 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 16:15:27.996 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 16:15:27.996 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 16:15:27.996 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 16:15:27.997 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 16:15:47.640 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 16:15:47.640 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 16:15:47.641 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-05 16:15:54.184 [http-nio-8090-exec-3] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 10 customers in the customers table (public schema)
2025-09-05 16:15:54.184 [http-nio-8090-exec-3] INFO  c.b.plumchat.service.ChatService - Processing message for session a36c9569-f856-4f89-a104-a379d387ae13: show me the first 10 customers in the customers table (public schema)
2025-09-05 16:15:59.958 [http-nio-8090-exec-3] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:16:09.820 [http-nio-8090-exec-3] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:36:53.186 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 16:36:53.195 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 16:37:07.826 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 25116 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 16:37:07.827 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 16:37:08.270 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 16:37:08.275 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 16:37:08.276 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 16:37:08.290 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 16:37:08.290 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 448 ms
2025-09-05 16:37:08.682 [HttpClient-1-Worker-1] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 16:37:08.768 [HttpClient-1-Worker-3] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 16:37:08.801 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 16:37:08.835 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 16:37:08.846 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 16:37:08.866 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 16:37:09.014 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 16:37:09.034 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 16:37:09.044 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.391 seconds (process running for 1.549)
2025-09-05 16:37:09.074 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 16:37:09.074 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 16:37:09.075 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 16:37:09.076 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 16:37:09.076 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 16:37:09.076 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 16:37:09.076 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 16:37:09.076 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 16:37:09.076 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 16:37:09.076 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 16:37:12.934 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 16:37:12.934 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 16:37:12.935 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-09-05 16:37:50.150 [http-nio-8090-exec-4] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 10 people in the customers table in public schema
2025-09-05 16:37:50.151 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Processing message for session ac40a5f8-d44f-4c56-99f5-d8f0f3c312df: show me the first 10 people in the customers table in public schema
2025-09-05 16:37:56.280 [http-nio-8090-exec-4] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 16:38:00.601 [http-nio-8090-exec-4] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:38:06.597 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:39:22.230 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 16:39:22.235 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 16:39:24.660 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 25589 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 16:39:24.661 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 16:39:25.091 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 16:39:25.097 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 16:39:25.097 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 16:39:25.111 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 16:39:25.111 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 436 ms
2025-09-05 16:39:25.426 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 16:39:25.440 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 16:39:25.464 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 16:39:25.496 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 16:39:25.503 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 16:39:25.520 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 16:39:25.638 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 16:39:25.655 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 16:39:25.665 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.164 seconds (process running for 1.326)
2025-09-05 16:39:25.692 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 16:39:25.693 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 16:39:25.694 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 16:39:25.694 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 16:39:25.694 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 16:39:25.694 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 16:39:25.694 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 16:39:25.694 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 16:39:25.694 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 16:39:25.694 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 16:39:25.694 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 16:39:25.694 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 16:39:25.694 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 16:39:25.694 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 16:39:25.694 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 16:40:30.001 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 26197 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 16:40:30.002 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 16:40:30.448 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 16:40:30.454 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 16:40:30.454 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 16:40:30.468 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 16:40:30.468 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 452 ms
2025-09-05 16:40:30.778 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 16:40:30.792 [HttpClient-1-Worker-3] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 16:40:30.814 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 16:40:30.848 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 16:40:30.855 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 16:40:30.873 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 16:40:30.999 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 16:40:31.017 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 16:40:31.026 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.192 seconds (process running for 1.351)
2025-09-05 16:40:31.055 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 16:40:31.056 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 16:40:31.057 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 16:40:31.057 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 16:40:31.057 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 16:40:31.057 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 16:40:31.057 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 16:40:31.057 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 16:40:31.057 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 16:40:31.057 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 16:40:31.057 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 16:40:31.057 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 16:40:31.057 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 16:40:31.057 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 16:40:31.057 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 16:40:45.495 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 16:40:45.496 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 16:40:45.497 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-05 16:41:07.061 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 10 customers in the customers table in public schema
2025-09-05 16:41:07.062 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session 4bac8021-5670-4f14-8ed7-7cc0f642fea1: show me the first 10 customers in the customers table in public schema
2025-09-05 16:41:13.294 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 16:41:14.707 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:41:27.483 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:41:27.483 [http-nio-8090-exec-1] WARN  c.b.plumchat.service.ChatService - No valid query_result JSON found in AI response
2025-09-05 16:43:42.836 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 26962 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 16:43:42.837 [main] DEBUG c.b.plumchat.PlumChatApplication - Running with Spring Boot v3.4.5, Spring v6.2.6
2025-09-05 16:43:42.837 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 16:43:43.272 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 16:43:43.277 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 16:43:43.277 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 16:43:43.291 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 16:43:43.291 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 437 ms
2025-09-05 16:43:43.598 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 16:43:43.616 [HttpClient-1-Worker-1] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 16:43:43.636 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 16:43:43.667 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 16:43:43.667 [main] DEBUG c.b.plumchat.config.ChatConfig - System prompt loaded from properties: "You are PlumChat, an AI assistant specialized in Greenplum database operations. Your goal is to be ...
2025-09-05 16:43:43.673 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 16:43:43.690 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 16:43:43.806 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 16:43:43.823 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 16:43:43.832 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.156 seconds (process running for 1.324)
2025-09-05 16:43:43.861 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 16:43:43.862 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 16:43:43.862 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 16:43:43.862 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 16:43:43.862 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 16:43:43.862 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 16:43:43.862 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 16:43:43.862 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 16:43:43.862 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 16:43:43.862 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 16:43:43.862 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 16:43:43.862 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 16:43:43.862 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 16:43:43.863 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 16:44:15.050 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 16:44:15.056 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 16:44:19.100 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 27633 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 16:44:19.101 [main] DEBUG c.b.plumchat.PlumChatApplication - Running with Spring Boot v3.4.5, Spring v6.2.6
2025-09-05 16:44:19.101 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 16:44:19.535 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 16:44:19.539 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 16:44:19.539 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 16:44:19.553 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 16:44:19.553 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 437 ms
2025-09-05 16:44:19.924 [HttpClient-1-Worker-2] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 16:44:20.016 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 16:44:20.052 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 16:44:20.085 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 16:44:20.085 [main] DEBUG c.b.plumchat.config.ChatConfig - System prompt loaded from properties: "You are PlumChat, an AI assistant specialized in Greenplum database operations. Your goal is to be ...
2025-09-05 16:44:20.092 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 16:44:20.111 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 16:44:20.231 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 16:44:20.250 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 16:44:20.260 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.323 seconds (process running for 1.479)
2025-09-05 16:44:20.289 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 16:44:20.289 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 16:44:20.289 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 16:44:20.289 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 16:44:20.289 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 16:44:20.290 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 16:44:31.155 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 16:44:31.155 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 16:44:31.156 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-05 16:44:34.291 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 10 customers in the customers table in public 
  schema
2025-09-05 16:44:34.291 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session f3386fec-4d82-44aa-93d3-3c5384f9eba8: show me the first 10 customers in the customers table in public 
  schema
2025-09-05 16:44:34.292 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 16:44:37.985 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:44:48.207 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:44:48.208 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Response: 
2025-09-05 16:44:48.208 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Response length: 0 characters
2025-09-05 16:44:48.208 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 0
2025-09-05 16:44:48.208 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 16:44:48.208 [http-nio-8090-exec-1] WARN  c.b.plumchat.service.ChatService - No valid query_result JSON found in AI response
2025-09-05 16:47:19.236 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 16:47:19.241 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 16:47:41.985 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 29144 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 16:47:41.986 [main] DEBUG c.b.plumchat.PlumChatApplication - Running with Spring Boot v3.4.5, Spring v6.2.6
2025-09-05 16:47:41.986 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 16:47:42.430 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 16:47:42.435 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 16:47:42.435 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 16:47:42.450 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 16:47:42.450 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 448 ms
2025-09-05 16:47:42.765 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 16:47:42.780 [HttpClient-1-Worker-2] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 16:47:42.805 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 16:47:42.839 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 16:47:42.839 [main] DEBUG c.b.plumchat.config.ChatConfig - System prompt loaded from properties: "You are PlumChat, an AI assistant specialized in Greenplum database operations. Your goal is to be ...
2025-09-05 16:47:42.846 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 16:47:42.866 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 16:47:42.996 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 16:47:43.014 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 16:47:43.023 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.207 seconds (process running for 1.375)
2025-09-05 16:47:43.053 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 16:47:43.053 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 16:47:43.053 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 16:47:43.053 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 16:47:43.053 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 16:47:43.053 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 16:47:43.053 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 16:47:43.053 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 16:47:43.053 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 16:47:43.053 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 16:47:43.053 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 16:47:43.053 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 16:47:43.053 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 16:47:43.053 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 16:47:43.054 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 16:47:51.443 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 16:47:51.444 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 16:47:51.444 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-09-05 16:47:55.596 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 10 customers in the customers table in public 
  schema
2025-09-05 16:47:55.596 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session a68751d5-8b67-4c97-8f34-bd4577d53cde: show me the first 10 customers in the customers table in public 
  schema
2025-09-05 16:47:55.597 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 16:47:57.272 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:48:08.611 [http-nio-8090-exec-4] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 5 customers in the customers table in public schema
2025-09-05 16:48:08.612 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Processing message for session test-session: show me the first 5 customers in the customers table in public schema
2025-09-05 16:48:08.612 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 16:48:09.935 [http-nio-8090-exec-4] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:48:17.476 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:48:17.476 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Response: Here are the first 10 customers in the "customers" table from the "public" schema:

| customer_id | first_name | last_name | email                     | phone_number | address              | city       | state | zip_code | created_at          | updated_at          |
|-------------|------------|-----------|---------------------------|--------------|----------------------|------------|-------|----------|---------------------|---------------------|
| 100004      | Michael    | Harris    | michael.harris@email.com  | 555-0104     | 452 Oakwood Ave      | Columbus   | OH    | 43215    | 2025-05-03 14:47:03 | 2025-05-03 14:47:03 |
| 100005      | David      | Lee       | david.lee@email.com       | 555-0105     | 123 Main St          | Anytown    | CA    | 12345    | 2025-05-03 14:47:03 | 2025-05-03 14:47:03 |
| 100007      | Andrew     | Martinez  | andrew.martinez@email.com | 555-0107     | 567 Birch Ave        | Denver     | CO    | 80202    | 2025-05-03 14:47:03 | 2025-05-03 14:47:03 |
| 100013      | Matthew    | Davis     | matthew.davis@email.com    | 555-0113     | 456 Poplar St        | Atlanta    | GA    | 30301    | 2025-05-03 14:47:03 | 2025-05-03 14:47:03 |
| 100015      | Ryan       | Anderson  | ryan.anderson@email.com    | 555-0115     | 012 Magnolia Dr      | San Diego  | CA    | 92101    | 2025-05-03 14:47:03 | 2025-05-03 14:47:03 |
| 100010      | Amanda     | Rodriguez | amanda.rodriguez@email.com | 555-0110     | 345 Cherry Ln        | Miami      | FL    | 33101    | 2025-05-03 14:47:03 | 2025-05-03 14:47:03 |
| 100011      | Daniel     | Johnson   | daniel.johnson@email.com   | 555-0111     | 890 Spruce Way       | Portland   | OR    | 97201    | 2025-05-03 14:47:03 | 2025-05-03 14:47:03 |
| 100012      | Lauren     | Brown     | lauren.brown@email.com      | 555-0112     | 123 Aspen Ct         | Nashville  | TN    | 37201    | 2025-05-03 14:47:03 | 2025-05-03 14:47:03 |
| 100014      | Stephanie  | Miller    | stephanie.miller@email.com   | 555-0114     | 789 Hickory Ave      | Boston     | MA    | 02101    | 2025-05-03 14:47:03 | 2025-05-03 14:47:03 |
| 100002      | Emily      | Carter    | emily.carter@email.com       | 555-0102     | 456 Oak Ave          | Someplace  | TX    | 67890    | 2025-05-03 14:47:03 | 2025-05-03 14:47:03 |

If you need any further information or assistance, feel free to ask!
2025-09-05 16:48:17.476 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Response length: 2361 characters
2025-09-05 16:48:17.477 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 2361
2025-09-05 16:48:17.477 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 16:48:17.477 [http-nio-8090-exec-1] WARN  c.b.plumchat.service.ChatService - No valid query_result JSON found in AI response
2025-09-05 16:48:19.743 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:48:19.744 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Response: Here are the first 5 customers from the `customers` table in the public schema:

| customer_id | first_name | last_name  | email                        | phone_number | address               | city       | state | zip_code | created_at         | updated_at         |
|-------------|------------|------------|------------------------------|--------------|-----------------------|------------|-------|----------|---------------------|---------------------|
| 100004      | Michael    | Harris     | michael.harris@email.com     | 555-0104     | 452 Oakwood Ave       | Columbus   | OH    | 43215    | 2024-06-06 01:30:23 | 2024-06-06 01:30:23 |
| 100005      | David      | Lee        | david.lee@email.com          | 555-0105     | 123 Main St           | Anytown    | CA    | 12345    | 2024-06-06 01:30:23 | 2024-06-06 01:30:23 |
| 100007      | Andrew     | Martinez   | andrew.martinez@email.com    | 555-0107     | 567 Birch Ave         | Denver     | CO    | 80202    | 2024-06-06 01:30:23 | 2024-06-06 01:30:23 |
| 100013      | Matthew    | Davis      | matthew.davis@email.com      | 555-0113     | 456 Poplar St         | Atlanta    | GA    | 30301    | 2024-06-06 01:30:23 | 2024-06-06 01:30:23 |
| 100015      | Ryan       | Anderson    | ryan.anderson@email.com      | 555-0115     | 012 Magnolia Dr       | San Diego  | CA    | 92101    | 2024-06-06 01:30:23 | 2024-06-06 01:30:23 |

If you need any more information or further queries, feel free to ask!
2025-09-05 16:48:19.744 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Response length: 1467 characters
2025-09-05 16:48:19.744 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 1467
2025-09-05 16:48:19.744 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 16:48:19.744 [http-nio-8090-exec-4] WARN  c.b.plumchat.service.ChatService - No valid query_result JSON found in AI response
2025-09-05 16:49:01.858 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 16:49:01.863 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 16:51:02.354 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 31771 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 16:51:02.355 [main] DEBUG c.b.plumchat.PlumChatApplication - Running with Spring Boot v3.4.5, Spring v6.2.6
2025-09-05 16:51:02.355 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 16:51:02.785 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 16:51:02.790 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 16:51:02.790 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 16:51:02.804 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 16:51:02.804 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 435 ms
2025-09-05 16:51:03.124 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 16:51:03.141 [HttpClient-1-Worker-3] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 16:51:03.164 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 16:51:03.195 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 16:51:03.196 [main] DEBUG c.b.plumchat.config.ChatConfig - System prompt loaded from properties: "You are PlumChat, an AI assistant specialized in Greenplum database operations. Your goal is to be ...
2025-09-05 16:51:03.203 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 16:51:03.219 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 16:51:03.347 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 16:51:03.365 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 16:51:03.374 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.18 seconds (process running for 1.347)
2025-09-05 16:51:03.403 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 16:51:03.403 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 16:51:03.403 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 16:51:03.403 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 16:51:03.403 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 16:51:03.403 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 16:51:03.403 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 16:51:03.403 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 16:51:03.404 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 16:51:12.552 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 16:51:12.552 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 16:51:12.553 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-05 16:51:12.568 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 3 customers in the customers table
2025-09-05 16:51:12.569 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session test-session-2: show me the first 3 customers in the customers table
2025-09-05 16:51:12.569 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 16:51:20.117 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:51:26.155 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:51:26.156 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Response: Here are the first 3 customers from public.customers:

- customer_id: 100010
  - first_name: Amanda
  - last_name: Rodriguez
  - email: amanda.rodriguez@email.com
  - phone_number: 555-0110
  - address: 345 Cherry Ln
  - city: Miami
  - state: FL
  - zip_code: 33101
  - created_at (ms): 1754917623869
  - updated_at (ms): 1754917623869

- customer_id: 100011
  - first_name: Daniel
  - last_name: Johnson
  - email: daniel.johnson@email.com
  - phone_number: 555-0111
  - address: 890 Spruce Way
  - city: Portland
  - state: OR
  - zip_code: 97201
  - created_at (ms): 1754917623869
  - updated_at (ms): 1754917623869

- customer_id: 100012
  - first_name: Lauren
  - last_name: Brown
  - email: lauren.brown@email.com
  - phone_number: 555-0112
  - address: 123 Aspen Ct
  - city: Nashville
  - state: TN
  - zip_code: 37201
  - created_at (ms): 1754917623869
  - updated_at (ms): 1754917623869

Note: created_at and updated_at are shown in epoch milliseconds. If you’d like, I can convert them to a human-readable date/time format.
2025-09-05 16:51:26.156 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Response length: 1035 characters
2025-09-05 16:51:26.156 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 1035
2025-09-05 16:51:26.156 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 16:51:26.156 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 16:51:26.157 [http-nio-8090-exec-1] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 16:51:32.069 [http-nio-8090-exec-2] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 3 customers in the customers table as a table
2025-09-05 16:51:32.069 [http-nio-8090-exec-2] INFO  c.b.plumchat.service.ChatService - Processing message for session test-table: show me the first 3 customers in the customers table as a table
2025-09-05 16:51:32.069 [http-nio-8090-exec-2] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 16:51:34.470 [http-nio-8090-exec-4] INFO  c.b.p.controller.ChatController - Received chat message: plumchat git:(main) ✗ ./run-plumchat.sh --build
🌱 PlumChat Client Management Script
===================================
Starting at: Fri Sep  5 16:49:43 EDT 2025

🔍 Looking for existing PlumChat processes...
ℹ️  No existing PlumChat processes found

🔨 Building PlumChat Client...
==============================
📦 Running Maven clean package...
WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
WARNING: sun.misc.Unsafe::staticFieldBase has been called by com.google.inject.internal.aop.HiddenClassDefiner (file:/opt/homebrew/Cellar/maven/3.9.11/libexec/lib/guice-5.1.0-classes.jar)
WARNING: Please consider reporting this to the maintainers of class com.google.inject.internal.aop.HiddenClassDefiner
WARNING: sun.misc.Unsafe::staticFieldBase will be removed in a future release
[INFO] Scanning for projects...
[INFO] 
[INFO] -------------< com.baskettecase.plumchat:plumchat-client >--------------
[INFO] Building PlumChat Client 0.1.1
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- clean:3.4.1:clean (default-clean) @ plumchat-client ---
[INFO] Deleting /Users/dbbaskette/Projects/plumchat/plumchat-client/target
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ plumchat-client ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 5 resources from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.13.0:compile (default-compile) @ plumchat-client ---
[INFO] Recompiling the module because of changed source code.
[INFO] Compiling 11 source files with javac [debug parameters release 21] to target/classes
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[9,35] cannot find symbol
  symbol:   class ToolCallbackContext
  location: package org.springframework.ai.tool
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[11,35] cannot find symbol
  symbol:   class ToolExecutionContext
  location: package org.springframework.ai.tool
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[12,35] cannot find symbol
  symbol:   class ToolResponse
  location: package org.springframework.ai.tool
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[32,31] cannot find symbol
  symbol:   class ToolExecutionContext
  location: class com.baskettecase.plumchat.service.StructuredDataInterceptor
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[32,12] cannot find symbol
  symbol:   class ToolResponse
  location: class com.baskettecase.plumchat.service.StructuredDataInterceptor
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[19,8] com.baskettecase.plumchat.service.StructuredDataInterceptor is not abstract and does not override abstract method getToolCallbacks() in org.springframework.ai.tool.ToolCallbackProvider
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[31,5] method does not override or implement a method from a supertype
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[34,9] cannot find symbol
  symbol:   class ToolResponse
  location: class com.baskettecase.plumchat.service.StructuredDataInterceptor
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[197,5] method does not override or implement a method from a supertype
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[199,24] cannot find symbol
  symbol:   method getToolNames()
  location: variable delegate of type org.springframework.ai.tool.ToolCallbackProvider
[INFO] 10 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  0.639 s
[INFO] Finished at: 2025-09-05T16:49:44-04:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.13.0:compile (default-compile) on project plumchat-client: Compilation failure: Compilation failure: 
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[9,35] cannot find symbol
[ERROR]   symbol:   class ToolCallbackContext
[ERROR]   location: package org.springframework.ai.tool
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[11,35] cannot find symbol
[ERROR]   symbol:   class ToolExecutionContext
[ERROR]   location: package org.springframework.ai.tool
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[12,35] cannot find symbol
[ERROR]   symbol:   class ToolResponse
[ERROR]   location: package org.springframework.ai.tool
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[32,31] cannot find symbol
[ERROR]   symbol:   class ToolExecutionContext
[ERROR]   location: class com.baskettecase.plumchat.service.StructuredDataInterceptor
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[32,12] cannot find symbol
[ERROR]   symbol:   class ToolResponse
[ERROR]   location: class com.baskettecase.plumchat.service.StructuredDataInterceptor
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[19,8] com.baskettecase.plumchat.service.StructuredDataInterceptor is not abstract and does not override abstract method getToolCallbacks() in org.springframework.ai.tool.ToolCallbackProvider
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[31,5] method does not override or implement a method from a supertype
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[34,9] cannot find symbol
[ERROR]   symbol:   class ToolResponse
[ERROR]   location: class com.baskettecase.plumchat.service.StructuredDataInterceptor
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[197,5] method does not override or implement a method from a supertype
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[199,24] cannot find symbol
[ERROR]   symbol:   method getToolNames()
[ERROR]   location: variable delegate of type org.springframework.ai.tool.ToolCallbackProvider
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
2025-09-05 16:51:34.472 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Processing message for session b99a498f-c8d4-4dca-88fe-b323b9162a1b: plumchat git:(main) ✗ ./run-plumchat.sh --build
🌱 PlumChat Client Management Script
===================================
Starting at: Fri Sep  5 16:49:43 EDT 2025

🔍 Looking for existing PlumChat processes...
ℹ️  No existing PlumChat processes found

🔨 Building PlumChat Client...
==============================
📦 Running Maven clean package...
WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
WARNING: sun.misc.Unsafe::staticFieldBase has been called by com.google.inject.internal.aop.HiddenClassDefiner (file:/opt/homebrew/Cellar/maven/3.9.11/libexec/lib/guice-5.1.0-classes.jar)
WARNING: Please consider reporting this to the maintainers of class com.google.inject.internal.aop.HiddenClassDefiner
WARNING: sun.misc.Unsafe::staticFieldBase will be removed in a future release
[INFO] Scanning for projects...
[INFO] 
[INFO] -------------< com.baskettecase.plumchat:plumchat-client >--------------
[INFO] Building PlumChat Client 0.1.1
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- clean:3.4.1:clean (default-clean) @ plumchat-client ---
[INFO] Deleting /Users/dbbaskette/Projects/plumchat/plumchat-client/target
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ plumchat-client ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 5 resources from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.13.0:compile (default-compile) @ plumchat-client ---
[INFO] Recompiling the module because of changed source code.
[INFO] Compiling 11 source files with javac [debug parameters release 21] to target/classes
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[9,35] cannot find symbol
  symbol:   class ToolCallbackContext
  location: package org.springframework.ai.tool
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[11,35] cannot find symbol
  symbol:   class ToolExecutionContext
  location: package org.springframework.ai.tool
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[12,35] cannot find symbol
  symbol:   class ToolResponse
  location: package org.springframework.ai.tool
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[32,31] cannot find symbol
  symbol:   class ToolExecutionContext
  location: class com.baskettecase.plumchat.service.StructuredDataInterceptor
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[32,12] cannot find symbol
  symbol:   class ToolResponse
  location: class com.baskettecase.plumchat.service.StructuredDataInterceptor
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[19,8] com.baskettecase.plumchat.service.StructuredDataInterceptor is not abstract and does not override abstract method getToolCallbacks() in org.springframework.ai.tool.ToolCallbackProvider
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[31,5] method does not override or implement a method from a supertype
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[34,9] cannot find symbol
  symbol:   class ToolResponse
  location: class com.baskettecase.plumchat.service.StructuredDataInterceptor
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[197,5] method does not override or implement a method from a supertype
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[199,24] cannot find symbol
  symbol:   method getToolNames()
  location: variable delegate of type org.springframework.ai.tool.ToolCallbackProvider
[INFO] 10 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  0.639 s
[INFO] Finished at: 2025-09-05T16:49:44-04:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.13.0:compile (default-compile) on project plumchat-client: Compilation failure: Compilation failure: 
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[9,35] cannot find symbol
[ERROR]   symbol:   class ToolCallbackContext
[ERROR]   location: package org.springframework.ai.tool
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[11,35] cannot find symbol
[ERROR]   symbol:   class ToolExecutionContext
[ERROR]   location: package org.springframework.ai.tool
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[12,35] cannot find symbol
[ERROR]   symbol:   class ToolResponse
[ERROR]   location: package org.springframework.ai.tool
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[32,31] cannot find symbol
[ERROR]   symbol:   class ToolExecutionContext
[ERROR]   location: class com.baskettecase.plumchat.service.StructuredDataInterceptor
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[32,12] cannot find symbol
[ERROR]   symbol:   class ToolResponse
[ERROR]   location: class com.baskettecase.plumchat.service.StructuredDataInterceptor
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[19,8] com.baskettecase.plumchat.service.StructuredDataInterceptor is not abstract and does not override abstract method getToolCallbacks() in org.springframework.ai.tool.ToolCallbackProvider
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[31,5] method does not override or implement a method from a supertype
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[34,9] cannot find symbol
[ERROR]   symbol:   class ToolResponse
[ERROR]   location: class com.baskettecase.plumchat.service.StructuredDataInterceptor
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[197,5] method does not override or implement a method from a supertype
[ERROR] /Users/dbbaskette/Projects/plumchat/plumchat-client/src/main/java/com/baskettecase/plumchat/service/StructuredDataInterceptor.java:[199,24] cannot find symbol
[ERROR]   symbol:   method getToolNames()
[ERROR]   location: variable delegate of type org.springframework.ai.tool.ToolCallbackProvider
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
2025-09-05 16:51:34.472 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 16:51:36.910 [http-nio-8090-exec-2] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 16:51:40.528 [http-nio-8090-exec-2] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:51:46.451 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:51:46.451 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Response: 
2025-09-05 16:51:46.451 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Response length: 0 characters
2025-09-05 16:51:46.451 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 0
2025-09-05 16:51:46.451 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 16:51:46.451 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 16:51:46.451 [http-nio-8090-exec-4] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 16:51:49.339 [http-nio-8090-exec-2] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:51:49.340 [http-nio-8090-exec-2] DEBUG c.b.plumchat.service.ChatService - Response: Here are the first 3 customers from public.customers:

| customer_id | first_name | last_name | email | phone_number | address | city | state | zip_code | created_at | updated_at |
|---:|---:|---:|---:|---:|---:|---:|---:|---:|---:|---:|
| 100001 | Sarah | Chen | sarah.chen@email.com | 555-0101 | 789 Maple Drive | Springfield | IL | 62704 | 1754917623869 | 1754917623869 |
| 100002 | Emily | Carter | emily.carter@email.com | 555-0102 | 456 Oak Ave | Someplace | TX | 67890 | 1754917623869 | 1754917623869 |
| 100003 | Benjamin | Rivera | benjamin.rivera@email.com | 555-0103 | 789 Pine Ln | Elsewhere | FL | 13579 | 1754917623869 | 1754917623869 |

If you’d like these timestamps converted to human-readable dates, I can format them for you.
2025-09-05 16:51:49.340 [http-nio-8090-exec-2] DEBUG c.b.plumchat.service.ChatService - Response length: 744 characters
2025-09-05 16:51:49.340 [http-nio-8090-exec-2] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 744
2025-09-05 16:51:49.340 [http-nio-8090-exec-2] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 16:51:49.340 [http-nio-8090-exec-2] DEBUG c.b.plumchat.service.ChatService - Found markdown table with columns: customer_id, first_name, last_name, email, phone_number, address, city, state, zip_code, created_at, updated_at
2025-09-05 16:51:49.341 [http-nio-8090-exec-2] INFO  c.b.plumchat.service.ChatService - Successfully parsed markdown table: 11 columns, 3 rows
2025-09-05 16:51:49.341 [http-nio-8090-exec-2] INFO  c.b.plumchat.service.ChatService - Successfully parsed markdown table data
2025-09-05 16:52:01.042 [http-nio-8090-exec-9] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 10 ppl in the customers table in public schema
2025-09-05 16:52:01.042 [http-nio-8090-exec-9] INFO  c.b.plumchat.service.ChatService - Processing message for session 5c980800-77c9-4950-a6ef-2c78508283d6: show me the first 10 ppl in the customers table in public schema
2025-09-05 16:52:01.043 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 16:52:04.817 [http-nio-8090-exec-9] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:52:15.097 [http-nio-8090-exec-9] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:52:15.097 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Response: 
2025-09-05 16:52:15.097 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Response length: 0 characters
2025-09-05 16:52:15.097 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 0
2025-09-05 16:52:15.097 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 16:52:15.097 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 16:52:15.097 [http-nio-8090-exec-9] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 16:52:33.202 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 16:52:33.207 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 16:52:37.779 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 32771 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 16:52:37.780 [main] DEBUG c.b.plumchat.PlumChatApplication - Running with Spring Boot v3.4.5, Spring v6.2.6
2025-09-05 16:52:37.780 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 16:52:38.215 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 16:52:38.225 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 16:52:38.225 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 16:52:38.234 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 16:52:38.234 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 439 ms
2025-09-05 16:52:38.547 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 16:52:38.562 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 16:52:38.586 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 16:52:38.618 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 16:52:38.618 [main] DEBUG c.b.plumchat.config.ChatConfig - System prompt loaded from properties: "You are PlumChat, an AI assistant specialized in Greenplum database operations. Your goal is to be ...
2025-09-05 16:52:38.625 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 16:52:38.642 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 16:52:38.765 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 16:52:38.784 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 16:52:38.793 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.167 seconds (process running for 1.33)
2025-09-05 16:52:38.824 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 16:52:38.825 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 16:52:38.826 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 16:52:38.826 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 16:52:38.826 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 16:52:38.826 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 16:52:38.826 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 16:52:38.826 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 16:52:38.826 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 16:52:38.826 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 16:52:38.826 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 16:52:38.826 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 16:52:38.826 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 16:52:38.826 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 16:52:38.826 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 16:52:38.826 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 16:52:43.721 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 16:52:43.722 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 16:52:43.723 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-05 16:53:01.828 [http-nio-8090-exec-4] INFO  c.b.p.controller.ChatController - Received chat message: show me 10 people from the customers table in public schema
2025-09-05 16:53:01.830 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Processing message for session e6060135-2a48-4100-b0af-f9fe2519becd: show me 10 people from the customers table in public schema
2025-09-05 16:53:01.830 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 16:53:05.185 [http-nio-8090-exec-4] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:53:16.174 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:53:16.174 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Response: 
2025-09-05 16:53:16.174 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Response length: 0 characters
2025-09-05 16:53:16.174 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 0
2025-09-05 16:53:16.174 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 16:53:16.175 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 16:53:16.175 [http-nio-8090-exec-4] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 16:53:52.211 [http-nio-8090-exec-9] INFO  c.b.p.controller.ChatController - Received chat message: show me 5 customers as a table
2025-09-05 16:53:52.211 [http-nio-8090-exec-9] INFO  c.b.plumchat.service.ChatService - Processing message for session debug-session: show me 5 customers as a table
2025-09-05 16:53:52.211 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 16:53:56.950 [http-nio-8090-exec-9] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:54:06.151 [http-nio-8090-exec-9] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:54:06.152 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Response: Here are the first 5 customers (execution time: 116 ms):

| customer_id | first_name | last_name | email | phone_number | address | city | state | zip_code | created_at | updated_at |
|---|---|---|---|---|---|---|---|---|---|---|
| 100001 | Sarah | Chen | sarah.chen@email.com | 555-0101 | 789 Maple Drive | Springfield | IL | 62704 | 1754917623869 | 1754917623869 |
| 100002 | Emily | Carter | emily.carter@email.com | 555-0102 | 456 Oak Ave | Someplace | TX | 67890 | 1754917623869 | 1754917623869 |
| 100003 | Benjamin | Rivera | benjamin.rivera@email.com | 555-0103 | 789 Pine Ln | Elsewhere | FL | 13579 | 1754917623869 | 1754917623869 |
| 100004 | Michael | Harris | michael.harris@email.com | 555-0104 | 452 Oakwood Ave | Columbus | OH | 43215 | 1754917623869 | 1754917623869 |
| 100005 | David | Lee | david.lee@email.com | 555-0105 | 123 Main St | Anytown | CA | 12345 | 1754917623869 | 1754917623869 |
2025-09-05 16:54:06.152 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Response length: 911 characters
2025-09-05 16:54:06.152 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 911
2025-09-05 16:54:06.152 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 16:54:06.152 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Found markdown table with columns: customer_id, first_name, last_name, email, phone_number, address, city, state, zip_code, created_at, updated_at
2025-09-05 16:54:06.153 [http-nio-8090-exec-9] INFO  c.b.plumchat.service.ChatService - Successfully parsed markdown table: 11 columns, 5 rows
2025-09-05 16:54:06.153 [http-nio-8090-exec-9] INFO  c.b.plumchat.service.ChatService - Successfully parsed markdown table data
2025-09-05 16:55:42.287 [http-nio-8090-exec-2] INFO  c.b.p.controller.ChatController - Received chat message: show me 10 people from the customers table in public schema
2025-09-05 16:55:42.288 [http-nio-8090-exec-2] INFO  c.b.plumchat.service.ChatService - Processing message for session 28e75fed-5c1f-4e10-8d33-bb5938e557e5: show me 10 people from the customers table in public schema
2025-09-05 16:55:42.288 [http-nio-8090-exec-2] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 16:55:47.124 [http-nio-8090-exec-2] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:55:57.776 [http-nio-8090-exec-2] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:55:57.776 [http-nio-8090-exec-2] DEBUG c.b.plumchat.service.ChatService - Response: 
2025-09-05 16:55:57.776 [http-nio-8090-exec-2] DEBUG c.b.plumchat.service.ChatService - Response length: 0 characters
2025-09-05 16:55:57.776 [http-nio-8090-exec-2] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 0
2025-09-05 16:55:57.776 [http-nio-8090-exec-2] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 16:55:57.776 [http-nio-8090-exec-2] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 16:55:57.776 [http-nio-8090-exec-2] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 16:56:39.114 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 16:56:39.119 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 16:56:43.772 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 37940 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 16:56:43.773 [main] DEBUG c.b.plumchat.PlumChatApplication - Running with Spring Boot v3.4.5, Spring v6.2.6
2025-09-05 16:56:43.773 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 16:56:44.208 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 16:56:44.214 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 16:56:44.214 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 16:56:44.225 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 16:56:44.225 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 437 ms
2025-09-05 16:56:44.553 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 16:56:44.567 [HttpClient-1-Worker-2] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 16:56:44.597 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 16:56:44.629 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 16:56:44.629 [main] DEBUG c.b.plumchat.config.ChatConfig - System prompt loaded from properties: "You are PlumChat, an AI assistant specialized in Greenplum database operations. Your goal is to be ...
2025-09-05 16:56:44.635 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 16:56:44.651 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 16:56:44.775 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 16:56:44.793 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 16:56:44.802 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.183 seconds (process running for 1.348)
2025-09-05 16:56:44.832 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 16:56:44.833 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 16:56:44.833 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 16:56:44.833 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 16:56:44.833 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 16:56:44.833 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 16:56:44.833 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 16:56:44.833 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 16:56:44.833 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 16:56:44.833 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 16:56:44.833 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 16:56:44.833 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 16:56:44.833 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 16:56:44.834 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 16:56:49.819 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 16:56:49.820 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 16:56:49.821 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-09-05 16:56:54.991 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me 10 people from the customers table in public schema
2025-09-05 16:56:54.992 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session 23427577-7899-491e-94c7-4aa04e7c8004: show me 10 people from the customers table in public schema
2025-09-05 16:56:54.992 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 16:56:58.112 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:57:09.715 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:57:09.716 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Response: 
2025-09-05 16:57:09.717 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Response length: 0 characters
2025-09-05 16:57:09.717 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 0
2025-09-05 16:57:09.717 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 16:57:09.717 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 16:57:09.717 [http-nio-8090-exec-1] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 16:57:42.444 [http-nio-8090-exec-4] INFO  c.b.p.controller.ChatController - Received chat message: show me first 3 customers as a table
2025-09-05 16:57:42.445 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Processing message for session debug-ui: show me first 3 customers as a table
2025-09-05 16:57:42.445 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 16:57:47.514 [http-nio-8090-exec-4] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getAllSchemas
2025-09-05 16:57:51.771 [http-nio-8090-exec-4] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 16:57:55.552 [http-nio-8090-exec-4] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:58:01.026 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:58:01.026 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Response: Here are the first 3 customers:

| customer_id | first_name | last_name | email |
|-------------|------------|-----------|--------------------------------------|
| 100001      | Sarah      | Chen      | sarah.chen@email.com                 |
| 100002      | Emily      | Carter    | emily.carter@email.com               |
| 100003      | Benjamin   | Rivera    | benjamin.rivera@email.com            |
2025-09-05 16:58:01.026 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Response length: 401 characters
2025-09-05 16:58:01.026 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 401
2025-09-05 16:58:01.027 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 16:58:01.027 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Found markdown table with columns: customer_id, first_name, last_name, email
2025-09-05 16:58:01.028 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Successfully parsed markdown table: 4 columns, 3 rows
2025-09-05 16:58:01.029 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Successfully parsed markdown table data
2025-09-05 16:58:26.296 [http-nio-8090-exec-6] INFO  c.b.p.controller.ChatController - Received chat message: show me first 3 customers as a table
2025-09-05 16:58:26.296 [http-nio-8090-exec-6] INFO  c.b.plumchat.service.ChatService - Processing message for session 7720f4f0-8cf1-412f-8cd3-dea0ebd5d2db: show me first 3 customers as a table
2025-09-05 16:58:26.296 [http-nio-8090-exec-6] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 16:58:32.702 [http-nio-8090-exec-6] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:58:35.528 [http-nio-8090-exec-6] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:58:41.720 [http-nio-8090-exec-6] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:58:41.720 [http-nio-8090-exec-6] DEBUG c.b.plumchat.service.ChatService - Response: Here are the first 3 customers:

| customer_id | first_name | last_name | email | phone_number | address | city | state | zip_code | created_at | updated_at |
|---|---|---|---|---|---|---|---|---|---|---|---|
| 100002 | Emily | Carter | emily.carter@email.com | 555-0102 | 456 Oak Ave | Someplace | TX | 67890 | 1754917623869 | 1754917623869 |
| 100009 | Christopher | Garcia | christopher.garcia@email.com | 555-0109 | 678 Walnut Blvd | Seattle | WA | 98101 | 1754917623869 | 1754917623869 |
| 100010 | Amanda | Rodriguez | amanda.rodriguez@email.com | 555-0110 | 345 Cherry Ln | Miami | FL | 33101 | 1754917623869 | 1754917623869 |
2025-09-05 16:58:41.720 [http-nio-8090-exec-6] DEBUG c.b.plumchat.service.ChatService - Response length: 633 characters
2025-09-05 16:58:41.720 [http-nio-8090-exec-6] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 633
2025-09-05 16:58:41.720 [http-nio-8090-exec-6] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 16:58:41.720 [http-nio-8090-exec-6] DEBUG c.b.plumchat.service.ChatService - Found markdown table with columns: customer_id, first_name, last_name, email, phone_number, address, city, state, zip_code, created_at, updated_at
2025-09-05 16:58:41.721 [http-nio-8090-exec-6] INFO  c.b.plumchat.service.ChatService - Successfully parsed markdown table: 11 columns, 3 rows
2025-09-05 16:58:41.721 [http-nio-8090-exec-6] INFO  c.b.plumchat.service.ChatService - Successfully parsed markdown table data
2025-09-05 16:58:58.190 [http-nio-8090-exec-8] INFO  c.b.p.controller.ChatController - Received chat message: show me first 3 customers from custmers table in public schema
2025-09-05 16:58:58.192 [http-nio-8090-exec-8] INFO  c.b.plumchat.service.ChatService - Processing message for session 7720f4f0-8cf1-412f-8cd3-dea0ebd5d2db: show me first 3 customers from custmers table in public schema
2025-09-05 16:58:58.192 [http-nio-8090-exec-8] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 2 messages in history
2025-09-05 16:59:02.371 [http-nio-8090-exec-8] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 16:59:06.453 [http-nio-8090-exec-8] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 16:59:15.294 [http-nio-8090-exec-8] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 16:59:15.295 [http-nio-8090-exec-8] DEBUG c.b.plumchat.service.ChatService - Response: Here are the first 3 customers from public.customers:

Column headers: customer_id | first_name | last_name | email | phone_number | address | city | state | zip_code | created_at | updated_at

100001 | Sarah | Chen | sarah.chen@email.com | 555-0101 | 789 Maple Drive | Springfield | IL | 62704 | 1754917623869 | 1754917623869
100002 | Emily | Carter | emily.carter@email.com | 555-0102 | 456 Oak Ave | Someplace | TX | 67890 | 1754917623869 | 1754917623869
100003 | Benjamin | Rivera | benjamin.rivera@email.com | 555-0103 | 789 Pine Ln | Elsewhere | FL | 13579 | 1754917623869 | 1754917623869

If you’d like the timestamps shown as human-friendly dates, I can convert them.
2025-09-05 16:59:15.295 [http-nio-8090-exec-8] DEBUG c.b.plumchat.service.ChatService - Response length: 675 characters
2025-09-05 16:59:15.295 [http-nio-8090-exec-8] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 675
2025-09-05 16:59:15.296 [http-nio-8090-exec-8] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 16:59:15.296 [http-nio-8090-exec-8] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 16:59:15.296 [http-nio-8090-exec-8] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 17:01:04.403 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 17:01:04.408 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 17:01:17.335 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 40444 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 17:01:17.336 [main] DEBUG c.b.plumchat.PlumChatApplication - Running with Spring Boot v3.4.5, Spring v6.2.6
2025-09-05 17:01:17.336 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 17:01:17.793 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 17:01:17.798 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 17:01:17.798 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 17:01:17.812 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 17:01:17.812 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 461 ms
2025-09-05 17:01:18.129 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 17:01:18.142 [HttpClient-1-Worker-3] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 17:01:18.165 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 17:01:18.198 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 17:01:18.198 [main] DEBUG c.b.plumchat.config.ChatConfig - System prompt loaded from properties: "You are PlumChat, an AI assistant specialized in Greenplum database operations. Your goal is to be ...
2025-09-05 17:01:18.205 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 17:01:18.222 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 17:01:18.356 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 17:01:18.375 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 17:01:18.384 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.215 seconds (process running for 1.377)
2025-09-05 17:01:18.413 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 17:01:18.413 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 17:01:18.413 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 17:01:18.413 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 17:01:18.413 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 17:01:18.413 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 17:01:18.413 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 17:01:18.414 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 17:01:31.317 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 17:01:31.317 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 17:01:31.318 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-05 17:01:31.334 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me 3 customers
2025-09-05 17:01:31.334 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session test-auto-table: show me 3 customers
2025-09-05 17:01:31.335 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 17:01:37.664 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTablesInSchema
2025-09-05 17:01:46.387 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 17:01:48.235 [http-nio-8090-exec-5] INFO  c.b.p.controller.ChatController - Received chat message: show me first 3 customers in customers table from public schema
2025-09-05 17:01:48.235 [http-nio-8090-exec-5] INFO  c.b.plumchat.service.ChatService - Processing message for session d4f33716-7ce2-4b60-a37e-b543cd385bc0: show me first 3 customers in customers table from public schema
2025-09-05 17:01:48.235 [http-nio-8090-exec-5] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 17:01:52.951 [http-nio-8090-exec-5] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 17:01:56.382 [http-nio-8090-exec-5] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 17:02:00.793 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 17:02:00.794 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Response: 
2025-09-05 17:02:00.794 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Response length: 0 characters
2025-09-05 17:02:00.794 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 0
2025-09-05 17:02:00.794 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 17:02:00.794 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 17:02:00.794 [http-nio-8090-exec-1] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 17:02:04.641 [http-nio-8090-exec-5] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 17:02:04.641 [http-nio-8090-exec-5] DEBUG c.b.plumchat.service.ChatService - Response: Here are the first 3 customers from public.customers:

- Row 1:
  - customer_id: 100010
  - first_name: Amanda
  - last_name: Rodriguez
  - email: amanda.rodriguez@email.com
  - phone_number: 555-0110
  - address: 345 Cherry Ln
  - city: Miami
  - state: FL
  - zip_code: 33101
  - created_at: 1754917623869
  - updated_at: 1754917623869

- Row 2:
  - customer_id: 100011
  - first_name: Daniel
  - last_name: Johnson
  - email: daniel.johnson@email.com
  - phone_number: 555-0111
  - address: 890 Spruce Way
  - city: Portland
  - state: OR
  - zip_code: 97201
  - created_at: 1754917623869
  - updated_at: 1754917623869

- Row 3:
  - customer_id: 100012
  - first_name: Lauren
  - last_name: Brown
  - email: lauren.brown@email.com
  - phone_number: 555-0112
  - address: 123 Aspen Ct
  - city: Nashville
  - state: TN
  - zip_code: 37201
  - created_at: 1754917623869
  - updated_at: 1754917623869

Note: created_at and updated_at are shown as epoch milliseconds. If you’d like, I can convert them to readable timestamps or apply additional filters (e.g., specific date range, additional columns).
2025-09-05 17:02:04.642 [http-nio-8090-exec-5] DEBUG c.b.plumchat.service.ChatService - Response length: 1100 characters
2025-09-05 17:02:04.642 [http-nio-8090-exec-5] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 1100
2025-09-05 17:02:04.642 [http-nio-8090-exec-5] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 17:02:04.642 [http-nio-8090-exec-5] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 17:02:04.642 [http-nio-8090-exec-5] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 17:02:05.674 [http-nio-8090-exec-4] INFO  c.b.p.controller.ChatController - Received chat message: show me 3 customers
2025-09-05 17:02:05.674 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Processing message for session test-auto-table: show me 3 customers
2025-09-05 17:02:05.674 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 2 messages in history
2025-09-05 17:02:10.885 [http-nio-8090-exec-4] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 17:02:18.628 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 17:02:18.628 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Response: Here are the first 3 customers:

- ID: 100010
  Name: Amanda Rodriguez
  Email: amanda.rodriguez@email.com
  Phone: 555-0110
  Address: 345 Cherry Ln, Miami, FL 33101
  Created_at: 1754917623869
  Updated_at: 1754917623869

- ID: 100011
  Name: Daniel Johnson
  Email: daniel.johnson@email.com
  Phone: 555-0111
  Address: 890 Spruce Way, Portland, OR 97201
  Created_at: 1754917623869
  Updated_at: 1754917623869

- ID: 100012
  Name: Lauren Brown
  Email: lauren.brown@email.com
  Phone: 555-0112
  Address: 123 Aspen Ct, Nashville, TN 37201
  Created_at: 1754917623869
  Updated_at: 1754917623869

Would you like me to format the dates to a human-readable format or fetch more rows?
2025-09-05 17:02:18.628 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Response length: 685 characters
2025-09-05 17:02:18.628 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 685
2025-09-05 17:02:18.629 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 17:02:18.629 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 17:02:18.629 [http-nio-8090-exec-4] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 17:02:23.436 [http-nio-8090-exec-9] INFO  c.b.p.controller.ChatController - Received chat message: show me 3 customers
2025-09-05 17:02:23.436 [http-nio-8090-exec-9] INFO  c.b.plumchat.service.ChatService - Processing message for session test-auto-table: show me 3 customers
2025-09-05 17:02:23.436 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 3 messages in history
2025-09-05 17:02:27.693 [http-nio-8090-exec-9] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getAllSchemas
2025-09-05 17:02:31.442 [http-nio-8090-exec-9] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 17:02:39.079 [http-nio-8090-exec-9] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 17:02:39.080 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Response: Here are the first 3 customers from public.customers:

- Customer ID: 100010
  - Name: Amanda Rodriguez
  - Email: amanda.rodriguez@email.com
  - Phone: 555-0110
  - Address: 345 Cherry Ln, Miami, FL 33101
  - Created at (epoch ms): 1754917623869
  - Updated at (epoch ms): 1754917623869

- Customer ID: 100011
  - Name: Daniel Johnson
  - Email: daniel.johnson@email.com
  - Phone: 555-0111
  - Address: 890 Spruce Way, Portland, OR 97201
  - Created at (epoch ms): 1754917623869
  - Updated at (epoch ms): 1754917623869

- Customer ID: 100012
  - Name: Lauren Brown
  - Email: lauren.brown@email.com
  - Phone: 555-0112
  - Address: 123 Aspen Ct, Nashville, TN 37201
  - Created at (epoch ms): 1754917623869
  - Updated at (epoch ms): 1754917623869

Would you like me to:
- convert the timestamps to human-readable dates,
- fetch more columns or more rows,
- or apply filters/sorting?
2025-09-05 17:02:39.080 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Response length: 886 characters
2025-09-05 17:02:39.080 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 886
2025-09-05 17:02:39.080 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 17:02:39.080 [http-nio-8090-exec-9] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 17:02:39.080 [http-nio-8090-exec-9] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 17:03:09.012 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 41747 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 17:03:09.013 [main] DEBUG c.b.plumchat.PlumChatApplication - Running with Spring Boot v3.4.5, Spring v6.2.6
2025-09-05 17:03:09.013 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 17:03:09.490 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 17:03:09.497 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 17:03:09.497 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 17:03:09.511 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 17:03:09.511 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 481 ms
2025-09-05 17:03:09.827 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 17:03:09.838 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 17:03:09.863 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 17:03:09.893 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 17:03:09.893 [main] DEBUG c.b.plumchat.config.ChatConfig - System prompt loaded from properties: "You are PlumChat, an AI assistant specialized in Greenplum database operations. Your goal is to be ...
2025-09-05 17:03:09.900 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 17:03:09.917 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 17:03:10.038 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 17:03:10.056 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 17:03:10.065 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.215 seconds (process running for 1.384)
2025-09-05 17:03:10.092 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 17:03:10.092 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 17:03:10.092 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 17:03:10.093 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 17:04:12.219 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 17:04:12.224 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 17:04:17.088 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 42143 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 17:04:17.089 [main] DEBUG c.b.plumchat.PlumChatApplication - Running with Spring Boot v3.4.5, Spring v6.2.6
2025-09-05 17:04:17.089 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 17:04:17.523 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 17:04:17.532 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 17:04:17.532 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 17:04:17.542 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 17:04:17.542 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 438 ms
2025-09-05 17:04:17.861 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 17:04:17.873 [HttpClient-1-Worker-3] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 17:04:17.893 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 17:04:17.926 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 17:04:17.926 [main] DEBUG c.b.plumchat.config.ChatConfig - System prompt loaded from properties: "You are PlumChat, an AI assistant specialized in Greenplum database operations. Your goal is to be ...
2025-09-05 17:04:17.935 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 17:04:17.952 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 17:04:18.081 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 17:04:18.100 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 17:04:18.109 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.179 seconds (process running for 1.352)
2025-09-05 17:04:18.140 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 17:04:18.141 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 17:04:18.142 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 17:04:18.142 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 17:04:18.142 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 17:04:18.142 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 17:04:18.142 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 17:04:18.142 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 17:04:18.142 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 17:04:18.142 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 17:04:18.142 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 17:04:18.142 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 17:04:18.142 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 17:04:18.142 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 17:04:28.075 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 17:04:28.075 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 17:04:28.076 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-05 17:04:31.365 [http-nio-8090-exec-4] INFO  c.b.p.controller.ChatController - Received chat message: show me first 3 customers in customers table from public schema
2025-09-05 17:04:31.366 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Processing message for session c73f8401-0348-4866-b114-ed5565f6fbeb: show me first 3 customers in customers table from public schema
2025-09-05 17:04:31.366 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 17:04:35.859 [http-nio-8090-exec-4] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 17:04:39.673 [http-nio-8090-exec-4] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 17:04:52.115 [http-nio-8090-exec-4] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 17:04:52.115 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Response: 
2025-09-05 17:04:52.115 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Response length: 0 characters
2025-09-05 17:04:52.115 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 0
2025-09-05 17:04:52.115 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 17:04:52.115 [http-nio-8090-exec-4] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 17:04:52.115 [http-nio-8090-exec-4] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 17:04:59.901 [http-nio-8090-exec-5] INFO  c.b.p.controller.ChatController - Received chat message: show me first 3 customers in customers table from public schema
2025-09-05 17:04:59.901 [http-nio-8090-exec-5] INFO  c.b.plumchat.service.ChatService - Processing message for session acb76680-bae9-45d6-9b5d-ca62ebd4064d: show me first 3 customers in customers table from public schema
2025-09-05 17:04:59.901 [http-nio-8090-exec-5] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 17:05:03.985 [http-nio-8090-exec-5] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 17:05:10.447 [http-nio-8090-exec-5] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 17:05:10.448 [http-nio-8090-exec-5] DEBUG c.b.plumchat.service.ChatService - Response: Here are the first 3 customers from public.customers:

1) Customer ID: 100004
   - Name: Michael Harris
   - Email: michael.harris@email.com
   - Phone: 555-0104
   - Address: 452 Oakwood Ave, Columbus, OH 43215
   - Created at: 1754917623869
   - Updated at: 1754917623869

2) Customer ID: 100005
   - Name: David Lee
   - Email: david.lee@email.com
   - Phone: 555-0105
   - Address: 123 Main St, Anytown, CA 12345
   - Created at: 1754917623869
   - Updated at: 1754917623869

3) Customer ID: 100007
   - Name: Andrew Martinez
   - Email: andrew.martinez@email.com
   - Phone: 555-0107
   - Address: 567 Birch Ave, Denver, CO 80202
   - Created at: 1754917623869
   - Updated at: 1754917623869

Would you like this in CSV or JSON, or would you like me to convert the timestamps to a human-readable date?
2025-09-05 17:05:10.448 [http-nio-8090-exec-5] DEBUG c.b.plumchat.service.ChatService - Response length: 806 characters
2025-09-05 17:05:10.448 [http-nio-8090-exec-5] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 806
2025-09-05 17:05:10.448 [http-nio-8090-exec-5] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 17:05:10.448 [http-nio-8090-exec-5] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 17:05:10.448 [http-nio-8090-exec-5] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 17:05:35.430 [http-nio-8090-exec-10] INFO  c.b.p.controller.ChatController - Received chat message: show me first 5 customers in customers table from public schema
2025-09-05 17:05:35.430 [http-nio-8090-exec-10] INFO  c.b.plumchat.service.ChatService - Processing message for session acb76680-bae9-45d6-9b5d-ca62ebd4064d: show me first 5 customers in customers table from public schema
2025-09-05 17:05:35.431 [http-nio-8090-exec-10] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 2 messages in history
2025-09-05 17:05:38.842 [http-nio-8090-exec-10] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 17:05:44.615 [http-nio-8090-exec-10] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 17:05:44.749 [http-nio-8090-exec-10] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 17:05:51.107 [http-nio-8090-exec-10] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 17:05:51.108 [http-nio-8090-exec-10] DEBUG c.b.plumchat.service.ChatService - Response: Here are the requested results from public.customers.

First 3 customers (public.customers):
- customer_id: 100001, first_name: Sarah, last_name: Chen, email: sarah.chen@email.com
- customer_id: 100002, first_name: Emily, last_name: Carter, email: emily.carter@email.com
- customer_id: 100003, first_name: Benjamin, last_name: Rivera, email: benjamin.rivera@email.com

First 5 customers (public.customers):
- customer_id: 100001, first_name: Sarah, last_name: Chen, email: sarah.chen@email.com
- customer_id: 100002, first_name: Emily, last_name: Carter, email: emily.carter@email.com
- customer_id: 100003, first_name: Benjamin, last_name: Rivera, email: benjamin.rivera@email.com
- customer_id: 100004, first_name: Michael, last_name: Harris, email: michael.harris@email.com
- customer_id: 100005, first_name: David, last_name: Lee, email: david.lee@email.com

Would you like me to fetch more rows, include additional columns, or apply filters (e.g., by city or state)?
2025-09-05 17:05:51.108 [http-nio-8090-exec-10] DEBUG c.b.plumchat.service.ChatService - Response length: 971 characters
2025-09-05 17:05:51.108 [http-nio-8090-exec-10] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 971
2025-09-05 17:05:51.109 [http-nio-8090-exec-10] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 17:05:51.109 [http-nio-8090-exec-10] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 17:05:51.109 [http-nio-8090-exec-10] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 17:06:51.976 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 17:06:51.981 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 17:06:57.683 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 42964 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 17:06:57.683 [main] DEBUG c.b.plumchat.PlumChatApplication - Running with Spring Boot v3.4.5, Spring v6.2.6
2025-09-05 17:06:57.684 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 17:06:58.135 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 17:06:58.140 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 17:06:58.140 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 17:06:58.153 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 17:06:58.153 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 455 ms
2025-09-05 17:06:58.470 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 17:06:58.482 [HttpClient-1-Worker-3] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 17:06:58.508 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 17:06:58.541 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 17:06:58.541 [main] DEBUG c.b.plumchat.config.ChatConfig - System prompt loaded from properties: "You are PlumChat, an AI assistant specialized in Greenplum database operations. Your goal is to be ...
2025-09-05 17:06:58.548 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 17:06:58.565 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 17:06:58.688 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 17:06:58.706 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 17:06:58.715 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.206 seconds (process running for 1.372)
2025-09-05 17:06:58.745 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 17:06:58.745 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 17:06:58.745 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 17:06:58.745 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 17:06:58.745 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 17:06:58.746 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 17:07:19.669 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 17:07:19.669 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 17:07:19.669 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-09-05 17:07:28.301 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me first 5 customers in customers table from public schema
2025-09-05 17:07:28.302 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session 050175b0-2917-4640-b5b1-16ec7ba0f2f5: show me first 5 customers in customers table from public schema
2025-09-05 17:07:28.303 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 17:07:31.889 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 17:07:44.150 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 17:07:44.151 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Response: 
2025-09-05 17:07:44.151 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Response length: 0 characters
2025-09-05 17:07:44.151 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 0
2025-09-05 17:07:44.151 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 17:07:44.151 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 17:07:44.151 [http-nio-8090-exec-1] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 17:08:18.589 [http-nio-8090-exec-3] INFO  c.b.p.controller.ChatController - Received chat message: show me first 5 customers in customers table from public schema
2025-09-05 17:08:18.589 [http-nio-8090-exec-3] INFO  c.b.plumchat.service.ChatService - Processing message for session 050175b0-2917-4640-b5b1-16ec7ba0f2f5: show me first 5 customers in customers table from public schema
2025-09-05 17:08:18.589 [http-nio-8090-exec-3] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 2 messages in history
2025-09-05 17:08:23.662 [http-nio-8090-exec-3] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
2025-09-05 17:08:32.784 [http-nio-8090-exec-3] INFO  c.b.plumchat.service.ChatService - Generated AI response using ChatClient with auto-configured MCP tools
2025-09-05 17:08:32.784 [http-nio-8090-exec-3] DEBUG c.b.plumchat.service.ChatService - Response: Here are the first 5 rows from public.customers:

customer_id | first_name | last_name | email | phone_number | address | city | state | zip_code | created_at | updated_at
100004 | Michael | Harris | michael.harris@email.com | 555-0104 | 452 Oakwood Ave | Columbus | OH | 43215 | 1754917623869 | 1754917623869
100005 | David | Lee | david.lee@email.com | 555-0105 | 123 Main St | Anytown | CA | 12345 | 1754917623869 | 1754917623869
100007 | Andrew | Martinez | andrew.martinez@email.com | 555-0107 | 567 Birch Ave | Denver | CO | 80202 | 1754917623869 | 1754917623869
100013 | Matthew | Davis | matthew.davis@email.com | 555-0113 | 456 Poplar St | Atlanta | GA | 30301 | 1754917623869 | 1754917623869
100015 | Ryan | Anderson | ryan.anderson@email.com | 555-0115 | 012 Magnolia Dr | San Diego | CA | 92101 | 1754917623869 | 1754917623869

Would you like me to sort, filter, or export these to CSV?
2025-09-05 17:08:32.784 [http-nio-8090-exec-3] DEBUG c.b.plumchat.service.ChatService - Response length: 898 characters
2025-09-05 17:08:32.784 [http-nio-8090-exec-3] DEBUG c.b.plumchat.service.ChatService - Parsing structured data from response of length: 898
2025-09-05 17:08:32.784 [http-nio-8090-exec-3] DEBUG c.b.plumchat.service.ChatService - Found 0 JSON candidates
2025-09-05 17:08:32.784 [http-nio-8090-exec-3] DEBUG c.b.plumchat.service.ChatService - Not enough table lines found: 0
2025-09-05 17:08:32.784 [http-nio-8090-exec-3] WARN  c.b.plumchat.service.ChatService - No structured data found in AI response
2025-09-05 17:10:24.495 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 17:10:24.499 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-05 17:10:26.931 [main] INFO  c.b.plumchat.PlumChatApplication - Starting PlumChatApplication v0.1.1 using Java 21.0.8 with PID 43730 (/Users/dbbaskette/Projects/plumchat/plumchat-client/target/plumchat-client-0.1.1.jar started by dbbaskette in /Users/dbbaskette/Projects/plumchat/plumchat-client)
2025-09-05 17:10:26.931 [main] DEBUG c.b.plumchat.PlumChatApplication - Running with Spring Boot v3.4.5, Spring v6.2.6
2025-09-05 17:10:26.931 [main] INFO  c.b.plumchat.PlumChatApplication - The following 1 profile is active: "local"
2025-09-05 17:10:27.381 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-05 17:10:27.391 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-05 17:10:27.391 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-09-05 17:10:27.400 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-05 17:10:27.400 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 454 ms
2025-09-05 17:10:27.717 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server, version=1.0.0] and Instructions null
2025-09-05 17:10:27.731 [HttpClient-1-Worker-0] INFO  i.m.client.McpAsyncClient - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=CompletionCapabilities[], experimental=null, logging=LoggingCapabilities[], prompts=PromptCapabilities[listChanged=true], resources=ResourceCapabilities[subscribe=false, listChanged=true], tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-query-server, version=1.0.0] and Instructions null
2025-09-05 17:10:27.753 [main] DEBUG o.s.a.m.t.a.ToolCallingAutoConfiguration - Cannot load class
java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.ClientAuthorizationException
	at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)
	at org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.loadClass(JarUrlClassLoader.java:107)
	at org.springframework.boot.loader.launch.LaunchedClassLoader.loadClass(LaunchedClassLoader.java:91)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:321)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.getClassOrNull(ToolCallingAutoConfiguration.java:128)
	at org.springframework.ai.model.tool.autoconfigure.ToolCallingAutoConfiguration.toolExecutionExceptionProcessor(ToolCallingAutoConfiguration.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:88)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:168)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:357)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.baskettecase.plumchat.PlumChatApplication.main(PlumChatApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)
2025-09-05 17:10:27.785 [main] INFO  c.b.plumchat.config.ChatConfig - Creating ChatClient with ToolCallbackProvider and externalized system prompt
2025-09-05 17:10:27.786 [main] DEBUG c.b.plumchat.config.ChatConfig - System prompt loaded from properties: "You are PlumChat, an AI assistant specialized in Greenplum database operations. Your goal is to be ...
2025-09-05 17:10:27.792 [main] INFO  c.b.plumchat.service.ChatService - ChatService initialized with Spring AI ChatClient and externalized prompts
2025-09-05 17:10:27.809 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-05 17:10:27.927 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-09-05 17:10:27.944 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-05 17:10:27.953 [main] INFO  c.b.plumchat.PlumChatApplication - Started PlumChatApplication in 1.182 seconds (process running for 1.344)
2025-09-05 17:10:27.981 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🚀 PlumChat Client started successfully!
2025-09-05 17:10:27.981 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌐 Client running on port: 8090
2025-09-05 17:10:27.981 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎯 UI available at: http://localhost:8090
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔍 MCP Client Configuration:
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Enabled: true
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Name: plumchat-client
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Version: 1.0.0
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Type: SYNC
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Request Timeout: 20s
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tool Callback Enabled: true
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🔗 MCP Server Connections:
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server: http://localhost:8080
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Schema Server SSE: /sse
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server: http://localhost:8081
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Query Server SSE: /sse
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🛠️  MCP Tool Auto-Discovery:
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Spring AI will auto-discover tools from connected MCP servers
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Available tools depend on active MCP server connections
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    Tools are dynamically loaded and integrated into ChatClient
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🌟 PlumChat initialization complete!
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService - 💡 Expected MCP tools from connected servers:
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    📊 Schema Discovery Tools (from schema-server on port 8080):
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getAllSchemas: Get all database schemas
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTablesInSchema: Get tables in a specific schema
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - getTableInfo: Get detailed table information
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testMcpConnection: Test MCP server connectivity
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -    🔍 Query Execution Tools (from query-server on port 8081 - if configured):
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - executeQuery: Execute SELECT queries against the database
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - explainQuery: Get execution plan for a query
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - countTableRows: Count rows in a specified table
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService -       - testConnection: Test database connectivity
2025-09-05 17:10:27.982 [main] INFO  c.b.p.s.McpToolDiscoveryService - 🎉 PlumChat is ready to assist with Greenplum database operations!
2025-09-05 17:11:38.019 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-05 17:11:38.020 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-05 17:11:38.022 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-09-05 17:12:00.970 [http-nio-8090-exec-1] INFO  c.b.p.controller.ChatController - Received chat message: show me the first 5 customers in the customers table from public schema
2025-09-05 17:12:00.971 [http-nio-8090-exec-1] INFO  c.b.plumchat.service.ChatService - Processing message for session b996e0b7-a6d0-4931-9c2b-5a3c6684bbc0: show me the first 5 customers in the customers table from public schema
2025-09-05 17:12:00.971 [http-nio-8090-exec-1] DEBUG c.b.plumchat.service.ChatService - Calling ChatClient with 1 messages in history
2025-09-05 17:12:06.736 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_schema_server_getTableInfo
2025-09-05 17:12:10.980 [http-nio-8090-exec-1] DEBUG o.s.a.m.t.DefaultToolCallingManager - Executing tool call: plumchat_client_query_server_executeQuery
